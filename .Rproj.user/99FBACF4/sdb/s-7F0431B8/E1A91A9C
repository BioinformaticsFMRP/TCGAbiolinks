{
    "contents" : "#'@title TCGAUpdate\n#'\n#'@description replace the dataFolders.rda matrix with the\n#'             new matrix from \"The Cancer Genome Atlas\" ftp\n#'@author Davide\n#'@seealso TCGAQuery\n#'@export\n#'@import downloader XML\nTCGAUpdate <-function(){\n  siteTCGA <- \"https://tcga-data.nci.nih.gov/tcgafiles/ftp_auth/distro_ftpusers/anonymous/tumor/\"\n  dataFolders <- NULL\n\n\n  x <- DownloadHTML(siteTCGA)\n  x <- GrepSite(x, \"href\")\n\n  Tumor <- sub(\"/\", \"\", x)\n\n  siteTumor <- paste(siteTCGA, Tumor, \"/\", sep = \"\")\n  for(tt in 1:length(siteTumor)){\n    x <- DownloadHTML(siteTumor[tt])\n    x <- GrepSite(x, \"href\")\n    CenterType <- sub(\"/\", \"\", x)\n\n    siteCenterType <- paste(siteTumor[tt], CenterType, \"/\", sep = \"\")\n    for(ct in 1:length(siteCenterType)){\n      x <- DownloadHTML(siteCenterType[ct])\n      x <- GrepSite(x, \"href\")\n      Center <- sub(\"/\", \"\", x)\n\n      siteCenter <- paste(siteCenterType[ct], Center, \"/\", sep = \"\")\n      for(cc in 1:length(siteCenter)){\n        x <- DownloadHTML(siteCenter[cc])\n        x <- GrepSite(x, \"href\")\n        Platform <- sub(\"/\", \"\", x)\n        if(length(Platform)==0) Platform = \"\"\n\n        sitePlatform <- paste(siteCenter[cc],Platform, \"/\", sep = \"\")\n        for(p in 1:length(sitePlatform)){\n          x <- DownloadHTML(sitePlatform[p])\n          x <- GrepSite(x, \"href\")\n          kind <- sub(\"/\", \"\", x)\n          if(length(kind)==0) kind = \"\"\n\n          siteKind <- paste(sitePlatform[p],kind, \"/\", sep = \"\")\n          for(k in 1:length(siteKind)){\n            x <- DownloadHTML(siteKind[k])\n            x <- GrepSite(x, \"href\")\n            folder <- sub(\"/\", \"\", x)\n            if(length(folder)==0) folder = \"\"\n\n            siteFolder <- paste(siteKind[k],folder, \"/\", sep = \"\")\n\n          #  tmp <- DownloadHTML(siteFolder)\n # add size \n # data\n\n            dataFolders <- rbind(dataFolders,\n                                 cbind(\n                                   Tumor = rep(Tumor[tt], length(folder)),\n                                   CenterType = rep(CenterType[ct], length(folder)),\n                                   Center = rep(Center[cc], length(folder)),\n                                   Platform = rep(Platform[p],length(folder)),\n                                   Kind = rep(kind[k],length(folder)),\n                                   Folder = folder,\n                                   #Data = data,\n                                   #Size = size,\n                                   Manifest = paste(siteFolder,\"MANIFEST.txt\",sep=\"\")))\n          }\n        }\n        print(paste(Tumor[tt], CenterType[ct], Center[cc], \":\", paste(Platform, collapse = \" - \"), \"done!\", sep = \" \"))\n      }\n    }\n  }\n\n  save(dataFolders,\n       file = paste(system.file(\"extdata\", package=\"TCGAbiolinks\"),\n                    \"dataFolders.rda\",sep=\"/\")\n  )\n}\n",
    "created" : 1429719406314.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1954038021",
    "id" : "E1A91A9C",
    "lastKnownWriteTime" : 1429720211,
    "path" : "~/Desktop/gitHubTCGA/TCGAbiolinks/R/TCGAupdate.R",
    "project_path" : "R/TCGAupdate.R",
    "properties" : {
    },
    "source_on_save" : false,
    "type" : "r_source"
}